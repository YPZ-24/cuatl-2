{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\cuatl-2\\\\components\\\\buttons\\\\AddToBagButton.tsx\";\nimport PropTypes from 'prop-types';\nimport { ShoppingBag } from 'react-feather';\nAddToBagButton.propTypes = {\n  order: PropTypes.object\n};\nAddToBagButton.defaultProps = {\n  order: null\n};\nvar classes = {\n  container: \"\\n    bg-accent\\n    cursor-pointer\\n    flex\\n    flex-row\\n    flex-nowrap\\n    items-center\\n    hover:bg-inactive\\n    hover:text-primary\\n    justify-center\\n    font-bold\\n    px-4\\n    py-3\\n    rounded-lg\\n    text-bse\\n    shadow\\n  \"\n};\nexport default function AddToBagButton(_ref) {\n  var order = _ref.order;\n\n  var setOrder = function setOrder(activeOrder) {\n    localStorage.setItem('order', JSON.stringify(activeOrder));\n  };\n\n  var getOrder = function getOrder() {\n    try {\n      return JSON.parse(localStorage.getItem('order')) || [];\n    } catch (error) {}\n\n    return [];\n  };\n\n  var addProductToBag = function addProductToBag(event) {\n    event.preventDefault();\n    var activeOrder = getOrder();\n    var quantitySelector = document.getElementById('quantity');\n    var variantQuantity = parseInt(quantitySelector.value); //: if the product and variant is already there\n\n    var indexOfOrderItem = activeOrder.findIndex(function (orderItem) {\n      return orderItem.variant.id === order.variant.id;\n    });\n\n    if (indexOfOrderItem !== -1) {\n      //: update quantity\n      var currentQuantity = activeOrder[indexOfOrderItem].quantity;\n\n      if (currentQuantity + variantQuantity <= order.variant.stock) {\n        activeOrder[indexOfOrderItem].quantity = currentQuantity + variantQuantity;\n      }\n    } else {\n      activeOrder.push({\n        product: order.product,\n        variant: order.variant,\n        quantity: variantQuantity,\n        offers: order.offers\n      });\n    }\n\n    setOrder(activeOrder);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"a\", {\n    onClick: function onClick(e) {\n      return addProductToBag(e);\n    },\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"mr-3\",\n      children: /*#__PURE__*/_jsxDEV(ShoppingBag, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"A\\xF1adir a la bolsa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_c = AddToBagButton;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToBagButton\");","map":{"version":3,"sources":["C:/Users/DELL/Desktop/cuatl-2/components/buttons/AddToBagButton.tsx"],"names":["PropTypes","ShoppingBag","AddToBagButton","propTypes","order","object","defaultProps","classes","container","setOrder","activeOrder","localStorage","setItem","JSON","stringify","getOrder","parse","getItem","error","addProductToBag","event","preventDefault","quantitySelector","document","getElementById","variantQuantity","parseInt","value","indexOfOrderItem","findIndex","orderItem","variant","id","currentQuantity","quantity","stock","push","product","offers","e"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,QAA4B,eAA5B;AAIAC,cAAc,CAACC,SAAf,GAA2B;AACzBC,EAAAA,KAAK,EAAEJ,SAAS,CAACK;AADQ,CAA3B;AAIAH,cAAc,CAACI,YAAf,GAA8B;AAC5BF,EAAAA,KAAK,EAAE;AADqB,CAA9B;AAIA,IAAMG,OAAO,GAAG;AACdC,EAAAA,SAAS;AADK,CAAhB;AAoBA,eAAe,SAASN,cAAT,OAA6D;AAAA,MAAnCE,KAAmC,QAAnCA,KAAmC;;AAC1E,MAAMK,QAAQ,GAAG,SAAXA,QAAW,CAACC,WAAD,EAAuC;AACtDC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,WAAf,CAA9B;AACD,GAFD;;AAIA,MAAMK,QAAQ,GAAG,SAAXA,QAAW,GAA4B;AAC3C,QAAI;AACF,aAAOF,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAApD;AACD,KAFD,CAEE,OAAOC,KAAP,EAAc,CAAG;;AAEnB,WAAO,EAAP;AACD,GAND;;AAQA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAgB;AACtCA,IAAAA,KAAK,CAACC,cAAN;AAEA,QAAMX,WAAW,GAAGK,QAAQ,EAA5B;AACA,QAAMO,gBAAgB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAzB;AACA,QAAMC,eAAe,GAAGC,QAAQ,CAACJ,gBAAgB,CAACK,KAAlB,CAAhC,CALsC,CAOtC;;AACA,QAAMC,gBAAgB,GAAGlB,WAAW,CAACmB,SAAZ,CAAsB,UAACC,SAAD;AAAA,aAA8BA,SAAS,CAACC,OAAV,CAAkBC,EAAlB,KAAyB5B,KAAK,CAAC2B,OAAN,CAAcC,EAArE;AAAA,KAAtB,CAAzB;;AAEA,QAAIJ,gBAAgB,KAAK,CAAC,CAA1B,EAA6B;AAC3B;AACA,UAAMK,eAAe,GAAGvB,WAAW,CAACkB,gBAAD,CAAX,CAA8BM,QAAtD;;AACA,UAAID,eAAe,GAAGR,eAAlB,IAAqCrB,KAAK,CAAC2B,OAAN,CAAcI,KAAvD,EAA8D;AAC5DzB,QAAAA,WAAW,CAACkB,gBAAD,CAAX,CAA8BM,QAA9B,GAAyCD,eAAe,GAAGR,eAA3D;AACD;AACF,KAND,MAMO;AACLf,MAAAA,WAAW,CAAC0B,IAAZ,CAAiB;AACfC,QAAAA,OAAO,EAAEjC,KAAK,CAACiC,OADA;AAEfN,QAAAA,OAAO,EAAE3B,KAAK,CAAC2B,OAFA;AAGfG,QAAAA,QAAQ,EAAET,eAHK;AAIfa,QAAAA,MAAM,EAAElC,KAAK,CAACkC;AAJC,OAAjB;AAMD;;AAED7B,IAAAA,QAAQ,CAACC,WAAD,CAAR;AACD,GA1BD;;AA4BA,sBACE;AAAG,IAAA,OAAO,EAAE,iBAAC6B,CAAD;AAAA,aAAOpB,eAAe,CAACoB,CAAD,CAAtB;AAAA,KAAZ;AAAuC,IAAA,SAAS,EAAEhC,OAAO,CAACC,SAA1D;AAAA,4BACE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA,6BAAuB,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAvB;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;KA/CuBN,c;AA+CvB","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { ShoppingBag } from 'react-feather';\r\n\r\nimport IPaymentOrder from '@/models/IPaymentOrder';\r\n\r\nAddToBagButton.propTypes = {\r\n  order: PropTypes.object\r\n};\r\n\r\nAddToBagButton.defaultProps = {\r\n  order: null\r\n};\r\n\r\nconst classes = {\r\n  container: `\r\n    bg-accent\r\n    cursor-pointer\r\n    flex\r\n    flex-row\r\n    flex-nowrap\r\n    items-center\r\n    hover:bg-inactive\r\n    hover:text-primary\r\n    justify-center\r\n    font-bold\r\n    px-4\r\n    py-3\r\n    rounded-lg\r\n    text-bse\r\n    shadow\r\n  `\r\n};\r\n\r\nexport default function AddToBagButton({ order }: { order: IPaymentOrder }) {\r\n  const setOrder = (activeOrder: Array<IPaymentOrder>) => {\r\n    localStorage.setItem('order', JSON.stringify(activeOrder));\r\n  };\r\n\r\n  const getOrder = (): Array<IPaymentOrder> => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('order')) || [];\r\n    } catch (error) { }\r\n\r\n    return [];\r\n  };\r\n\r\n  const addProductToBag = (event: any) => {\r\n    event.preventDefault();\r\n\r\n    const activeOrder = getOrder();\r\n    const quantitySelector = document.getElementById('quantity') as HTMLInputElement;\r\n    const variantQuantity = parseInt(quantitySelector.value);\r\n\r\n    //: if the product and variant is already there\r\n    const indexOfOrderItem = activeOrder.findIndex((orderItem: IPaymentOrder) => orderItem.variant.id === order.variant.id);\r\n\r\n    if (indexOfOrderItem !== -1) {\r\n      //: update quantity\r\n      const currentQuantity = activeOrder[indexOfOrderItem].quantity;\r\n      if (currentQuantity + variantQuantity <= order.variant.stock) {\r\n        activeOrder[indexOfOrderItem].quantity = currentQuantity + variantQuantity;\r\n      }\r\n    } else {\r\n      activeOrder.push({\r\n        product: order.product,\r\n        variant: order.variant,\r\n        quantity: variantQuantity,\r\n        offers: order.offers\r\n      });\r\n    }\r\n\r\n    setOrder(activeOrder);\r\n  };\r\n\r\n  return (\r\n    <a onClick={(e) => addProductToBag(e)} className={classes.container}>\r\n      <span className=\"mr-3\"><ShoppingBag /></span>\r\n      <span>AÃ±adir a la bolsa</span>\r\n    </a>\r\n  );\r\n};\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}