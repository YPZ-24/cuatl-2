{"ast":null,"code":"import { AUTH_FACEBOOK_CALLBACK, AUTH_GOOGLE_CALLBACK } from '@/config/globals';\nexport const getSession = async token => {\n  const url = token.includes('id_token') ? AUTH_GOOGLE_CALLBACK : AUTH_FACEBOOK_CALLBACK;\n  let response;\n\n  try {\n    response = await fetch(url + token);\n    console.log(\"RESPONSE\");\n    console.log(response);\n  } catch (e) {\n    console.log(\"ERROR\");\n    console.log(e);\n  }\n\n  const sessionData = await response.json();\n  console.log(sessionData);\n  return {\n    token: sessionData.jwt,\n    user: {\n      id: sessionData.user.id,\n      username: sessionData.user.username,\n      email: sessionData.user.email,\n      avatar: sessionData.user.avatar ? sessionData.user.avatar.formats.thumbnail : null\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}