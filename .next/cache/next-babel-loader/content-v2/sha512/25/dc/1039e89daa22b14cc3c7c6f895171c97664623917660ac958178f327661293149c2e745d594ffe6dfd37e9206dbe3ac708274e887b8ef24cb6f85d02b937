{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\cuatl-2\\\\components\\\\buttons\\\\PaymentButton.js\";\nimport PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useRouter } from 'next/router';\nimport { STRIPE_PUBLISHED_KEY, API_DOMAIN } from '@/config/globals';\nimport AuthContext from '@/context/AuthContext';\nimport Button from '@material-ui/core/Button';\nconst stripePromise = loadStripe(STRIPE_PUBLISHED_KEY);\n\nconst PaymentButton = ({\n  order\n}) => {\n  const {\n    getToken\n  } = useContext(AuthContext);\n  const router = useRouter();\n\n  const handleClick = async () => {\n    /*\r\n    const stripe = await stripePromise;\r\n    const token = await getToken();\r\n      const response = await fetch(`${API_DOMAIN}/orders`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ order }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    const session = await response.json();\r\n    \r\n    const result = await stripe.redirectToCheckout({\r\n      sessionId: session.id\r\n    });*/\n    router.push('/user/address');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    onClick: handleClick,\n    variant: \"contained\",\n    color: \"primary\",\n    fullWidth: true,\n    children: \"Continuar la compra\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\nPaymentButton.propTypes = {\n  order: PropTypes.array\n};\nPaymentButton.default = {\n  order: []\n};\nexport default PaymentButton;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/cuatl-2/components/buttons/PaymentButton.js"],"names":["PropTypes","useContext","loadStripe","useRouter","STRIPE_PUBLISHED_KEY","API_DOMAIN","AuthContext","Button","stripePromise","PaymentButton","order","getToken","router","handleClick","push","propTypes","array","default"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SAASC,oBAAT,EAA+BC,UAA/B,QAAiD,kBAAjD;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,MAAMC,aAAa,GAAGN,UAAU,CAACE,oBAAD,CAAhC;;AAEA,MAAMK,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AACnC,QAAM;AAAEC,IAAAA;AAAF,MAAeV,UAAU,CAACK,WAAD,CAA/B;AACA,QAAMM,MAAM,GAAGT,SAAS,EAAxB;;AAEA,QAAMU,WAAW,GAAG,YAAY;AAC9B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEID,IAAAA,MAAM,CAACE,IAAP,CAAY,eAAZ;AACD,GAnBD;;AAqBA,sBACE,QAAC,MAAD;AAAQ,IAAA,OAAO,EAAED,WAAjB;AAA8B,IAAA,OAAO,EAAC,WAAtC;AAAkD,IAAA,KAAK,EAAC,SAAxD;AAAkE,IAAA,SAAS,MAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CA9BD;;AAgCAJ,aAAa,CAACM,SAAd,GAA0B;AACxBL,EAAAA,KAAK,EAAEV,SAAS,CAACgB;AADO,CAA1B;AAIAP,aAAa,CAACQ,OAAd,GAAwB;AACtBP,EAAAA,KAAK,EAAE;AADe,CAAxB;AAIA,eAAeD,aAAf","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useContext } from 'react';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport { STRIPE_PUBLISHED_KEY, API_DOMAIN } from '@/config/globals';\r\nimport AuthContext from '@/context/AuthContext';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst stripePromise = loadStripe(STRIPE_PUBLISHED_KEY);\r\n\r\nconst PaymentButton = ({ order }) => {\r\n  const { getToken } = useContext(AuthContext);\r\n  const router = useRouter();\r\n\r\n  const handleClick = async () => {\r\n    /*\r\n    const stripe = await stripePromise;\r\n    const token = await getToken();\r\n\r\n    const response = await fetch(`${API_DOMAIN}/orders`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ order }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    const session = await response.json();\r\n    \r\n    const result = await stripe.redirectToCheckout({\r\n      sessionId: session.id\r\n    });*/\r\n    router.push('/user/address');\r\n  };\r\n\r\n  return (\r\n    <Button onClick={handleClick} variant=\"contained\" color=\"primary\" fullWidth>\r\n      Continuar la compra\r\n    </Button>\r\n  );\r\n};\r\n\r\nPaymentButton.propTypes = {\r\n  order: PropTypes.array\r\n};\r\n\r\nPaymentButton.default = {\r\n  order: []\r\n};\r\n\r\nexport default PaymentButton;\r\n"]},"metadata":{},"sourceType":"module"}