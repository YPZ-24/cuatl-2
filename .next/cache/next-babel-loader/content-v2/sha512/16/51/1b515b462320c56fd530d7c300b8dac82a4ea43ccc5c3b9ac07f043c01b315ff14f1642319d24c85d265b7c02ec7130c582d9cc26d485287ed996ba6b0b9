{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useContext } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { STRIPE_PUBLISHED_KEY, API_DOMAIN } from '@/config/globals';\nimport AuthContext from '@/context/AuthContext';\nconst stripePromise = loadStripe(STRIPE_PUBLISHED_KEY);\n\nconst PaymentButton = ({\n  order\n}) => {\n  const {\n    getToken\n  } = useContext(AuthContext);\n\n  const handlePayment = async () => {\n    const stripe = await stripePromise;\n    const token = await getToken();\n    const response = await fetch(`${API_DOMAIN}/orders`, {\n      method: 'POST',\n      body: JSON.stringify({\n        order\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const session = await response.json();\n    const result = await stripe.redirectToCheckout({\n      sessionId: session.id\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"button\", {\n    onClick: handlePayment,\n    className: \"flex flex-row flex-nowrap items-center justify-center font-bold px-4 py-3 rounded-lg bg-accent text-base shadow hover:bg-inactive hover:text-primary\",\n    children: \"Continuar al pago\"\n  });\n};\n\nPaymentButton.default = {\n  order: []\n};\nexport default PaymentButton;","map":null,"metadata":{},"sourceType":"module"}