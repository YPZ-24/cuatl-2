{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{\"/EDR\":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return t(\"23aj\")}])},\"23aj\":function(e,n,t){\"use strict\";t.r(n),t.d(n,\"__N_SSP\",(function(){return _})),t.d(n,\"default\",(function(){return E}));var a=t(\"nKUr\"),r=t(\"o0o1\"),c=t.n(r),s=t(\"HaE+\"),o=t(\"ODXe\"),i=t(\"g4pe\"),u=t.n(i),d=t(\"q1tI\"),j=t(\"PwMW\"),l=t(\"jS00\"),f=t(\"gRJg\"),p=t(\"vfuN\"),b=t(\"9SqW\"),x=t(\"jelM\"),w=t(\"VS8K\"),O=t(\"6Kf1\"),m=t(\"+GZE\"),h=\"\\n    h-screen\\n    max-w-screen\\n  \",v={container:\"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",loadButton:\"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      mb-20\\n      md:my-12\\n      mt-12\\n    \"},_=!0;function E(e){var n=e.initialProducts,t=e.departments,r=Object(d.useContext)(O.b),i=r.login,_=r.useSession,E=Object(m.a)(n),N=Object(d.useState)({index:0,data:n,previousData:n}),g=Object(o.a)(N,2),S=g[0],y=g[1],D=function(){var e=Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)(E,{start:S.data.length,limit:w.f});case 2:n=e.sent,y({index:S.index+1,data:S.data.concat(n),previousData:n});case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _(),Object(d.useEffect)((function(){(function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!location.search){e.next=3;break}return e.next=3,i(location.search);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(\"div\",{className:h,children:[Object(a.jsxs)(u.a,{children:[Object(a.jsx)(\"title\",{children:\"Cuatl - La mejor moda artesanal de M\\xe9xico\"}),Object(a.jsx)(\"meta\",{name:\"description\",content:\"Encuentra los mejores productos artesanales de M\\xe9xico\"})]}),Object(a.jsx)(b.a,{menuEntries:t}),Object(a.jsxs)(\"div\",{className:v.container,children:[Object(a.jsx)(f.a,{products:S.data}),Object(a.jsx)(\"div\",{className:v.loadButton,children:Object(a.jsx)(l.a,{disabled:!S.previousData.length,fetcher:D})})]}),Object(a.jsx)(x.b,{page:x.a.HOME}),Object(a.jsx)(p.a,{})]})}}},[[\"/EDR\",0,2,1,3,4,5,6]]]);","map":{"version":3,"sources":["static/chunks/pages/index-7a6511076bb98afd5bab.js"],"names":["_N_E","window","push","/EDR","module","exports","__webpack_require__","__NEXT_P","23aj","__webpack_exports__","r","d","__N_SSP","HomePage","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","next_head_js__WEBPACK_IMPORTED_MODULE_4__","next_head_js__WEBPACK_IMPORTED_MODULE_4___default","react_index__WEBPACK_IMPORTED_MODULE_5__","_actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__","_components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__","_components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__","_components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__","_components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__","_components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__","_config_globals__WEBPACK_IMPORTED_MODULE_12__","_context_AuthContext__WEBPACK_IMPORTED_MODULE_13__","_lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__","classes","container","loadButton","_ref","initialProducts","departments","_useContext","Object","login","useSession","apolloClient","_useState","index","data","previousData","_useState2","page","setPage","getNewPage","_ref2","a","mark","_callee","newPage","wrap","_context","prev","next","start","length","limit","sent","concat","stop","apply","this","arguments","_ref3","_callee2","_context2","location","search","loginUser","className","children","name","content","menuEntries","products","disabled","fetcher","HOME"],"mappings":"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"},"name":"static/chunks/pages/index-7a6511076bb98afd5bab.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[13],{\n\n/***/ \"/EDR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(\"23aj\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"23aj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HomePage; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ODXe\");\n/* harmony import */ var next_head_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_head_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react_index__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_index__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"PwMW\");\n/* harmony import */ var _components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"jS00\");\n/* harmony import */ var _components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"gRJg\");\n/* harmony import */ var _components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"vfuN\");\n/* harmony import */ var _components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"9SqW\");\n/* harmony import */ var _components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"jelM\");\n/* harmony import */ var _config_globals__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"VS8K\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"6Kf1\");\n/* harmony import */ var _lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"+GZE\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar classes = {\n  container: \"\\n    h-screen\\n    max-w-screen\\n  \",\n  gallery: {\n    container: \"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",\n    loadButton: \"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      mb-20\\n      md:my-12\\n      mt-12\\n    \"\n  }\n};\nvar __N_SSP = true;\nfunction HomePage(_ref) {\n  var initialProducts = _ref.initialProducts,\n      departments = _ref.departments;\n\n  var _useContext = Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useContext\"])(_context_AuthContext__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"b\"]),\n      login = _useContext.login,\n      useSession = _useContext.useSession;\n\n  var apolloClient = Object(_lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__[/* useApolloClient */ \"a\"])(initialProducts);\n\n  var _useState = Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({\n    index: 0,\n    data: initialProducts,\n    previousData: initialProducts\n  }),\n      _useState2 = Object(_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var getNewPage = /*#__PURE__*/function () {\n    var _ref2 = Object(_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n      var newPage;\n      return _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Object(_actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__[/* getProductsPage */ \"a\"])(apolloClient, {\n                start: page.data.length,\n                limit: _config_globals__WEBPACK_IMPORTED_MODULE_12__[/* PAGE_LIMIT */ \"f\"]\n              });\n\n            case 2:\n              newPage = _context.sent;\n              setPage({\n                index: page.index + 1,\n                data: page.data.concat(newPage),\n                previousData: newPage\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getNewPage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useSession();\n  Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    var loginUser = /*#__PURE__*/function () {\n      var _ref3 = Object(_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {\n        return _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!location.search) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return login(location.search);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function loginUser() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    loginUser();\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(next_head_js__WEBPACK_IMPORTED_MODULE_4___default.a, {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"title\", {\n        children: \"Cuatl - La mejor moda artesanal de M\\xE9xico\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"meta\", {\n        name: \"description\",\n        content: \"Encuentra los mejores productos artesanales de M\\xE9xico\"\n      })]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      menuEntries: departments\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      className: classes.gallery.container,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n        products: page.data\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: classes.gallery.loadButton,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          disabled: !page.previousData.length,\n          fetcher: getNewPage\n        })\n      })]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"b\"], {\n      page: _components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__[/* TAB_PAGES */ \"a\"].HOME\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {})]\n  });\n}\n;\n\n/***/ })\n\n},[[\"/EDR\",0,2,1,3,4,5,6]]]);","inputSourceMap":{"version":3,"sources":["/home/ypz/Desktop/A/cuatl-2/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2F&absolutePagePath=private-next-pages%2Findex.tsx!","/home/ypz/Desktop/A/cuatl-2/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ypz/Desktop/A/cuatl-2/pages/index.tsx"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA8B;AACrD;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACF;AACsD;AACe;AACN;AAC/E;AAC8B;AACH;AACM;AACI;AACpB;AACE;AACa;AAClB;AACE;AACM;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACQ;AACf;AACA;;AAEA,oBAAoB,8DAAU,CAAC,qEAAW;AAC1C;AACA;;AAEA,qBAAqB,mFAAe;;AAEpC,kBAAkB,4DAAQ;AAC1B;AACA;AACA;AACA,GAAG;AACH,mBAAmB,wIAAc;AACjC;AACA;;AAEA;AACA,gBAAgB,2IAAiB,eAAe,yGAAmB;AACnE;AACA,aAAa,yGAAmB;AAChC;AACA;AACA;AACA;AACA,qBAAqB,uFAAe;AACpC;AACA,uBAAuB,mEAAU;AACjC,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,EAAE,6DAAS;AACX;AACA,kBAAkB,2IAAiB,eAAe,yGAAmB;AACrE,eAAe,yGAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH,sBAAsB,8DAAK;AAC3B;AACA,4BAA4B,8DAAK,CAAC,mDAAI;AACtC,8BAA8B,6DAAI;AAClC;AACA,OAAO,gBAAgB,6DAAI;AAC3B;AACA;AACA,OAAO;AACP,KAAK,gBAAgB,6DAAI,CAAC,4EAAO;AACjC;AACA,KAAK,gBAAgB,8DAAK;AAC1B;AACA,8BAA8B,6DAAI,CAAC,qFAAe;AAClD;AACA,OAAO,gBAAgB,6DAAI;AAC3B;AACA,+BAA+B,6DAAI,CAAC,kFAAc;AAClD;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK,gBAAgB,6DAAI,CAAC,2EAAM;AAChC,YAAY,6EAAS;AACrB,KAAK,gBAAgB,6DAAI,CAAC,0EAAM,IAAI;AACpC,GAAG;AACH;AACA,C","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n  ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/home/ypz/Desktop/A/cuatl-2/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ypz/Desktop/A/cuatl-2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/ypz/Desktop/A/cuatl-2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport Head from 'next/head.js';\nimport { useContext, useEffect, useState } from 'react/index';\nimport { getProductsPage } from '@/actions/fetch-products';\nimport LoadMoreButton from '@/components/buttons/LoadMoreButton';\nimport ProductsGallery from '@/components/galleries/ProductsGallery';\nimport Footer from '@/components/footers/Footer';\nimport Omnibar from '@/components/navbars/Omnibar';\nimport Tabbar, { TAB_PAGES } from '@/components/navbars/Tabbar';\nimport { PAGE_LIMIT } from '@/config/globals';\nimport AuthContext from '@/context/AuthContext';\nimport { useApolloClient } from '@/lib/apollo-client';\nvar classes = {\n  container: \"\\n    h-screen\\n    max-w-screen\\n  \",\n  gallery: {\n    container: \"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",\n    loadButton: \"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      mb-20\\n      md:my-12\\n      mt-12\\n    \"\n  }\n};\nexport var __N_SSP = true;\nexport default function HomePage(_ref) {\n  var initialProducts = _ref.initialProducts,\n      departments = _ref.departments;\n\n  var _useContext = useContext(AuthContext),\n      login = _useContext.login,\n      useSession = _useContext.useSession;\n\n  var apolloClient = useApolloClient(initialProducts);\n\n  var _useState = useState({\n    index: 0,\n    data: initialProducts,\n    previousData: initialProducts\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var getNewPage = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var newPage;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getProductsPage(apolloClient, {\n                start: page.data.length,\n                limit: PAGE_LIMIT\n              });\n\n            case 2:\n              newPage = _context.sent;\n              setPage({\n                index: page.index + 1,\n                data: page.data.concat(newPage),\n                previousData: newPage\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getNewPage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useSession();\n  useEffect(function () {\n    var loginUser = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!location.search) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return login(location.search);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function loginUser() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    loginUser();\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Cuatl - La mejor moda artesanal de M\\xE9xico\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"Encuentra los mejores productos artesanales de M\\xE9xico\"\n      })]\n    }), /*#__PURE__*/_jsx(Omnibar, {\n      menuEntries: departments\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.gallery.container,\n      children: [/*#__PURE__*/_jsx(ProductsGallery, {\n        products: page.data\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: classes.gallery.loadButton,\n        children: /*#__PURE__*/_jsx(LoadMoreButton, {\n          disabled: !page.previousData.length,\n          fetcher: getNewPage\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Tabbar, {\n      page: TAB_PAGES.HOME\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}\n;"]}}