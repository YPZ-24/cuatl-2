{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{Lvf5:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/payment/delivery\",function(){return n(\"xHbI\")}])},xHbI:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return b}));var r=n(\"nKUr\"),c=n(\"o0o1\"),a=n.n(c),s=n(\"HaE+\"),u=n(\"g4pe\"),o=n.n(u),i=n(\"20a2\"),d=n(\"q1tI\"),f=n(\"VS8K\"),p=n(\"6Kf1\");function b(){var e=Object(d.useContext)(p.b),t=e.user,n=e.getToken,c=Object(i.useRouter)(),u=function(e,t){var n=Object(d.useState)([]),r=n[0],c=n[1];return Object(d.useEffect)((function(){!function(){var n=Object(s.a)(a.a.mark((function n(){var r,s,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=17;break}return n.prev=1,n.next=4,t();case 4:return r=n.sent,n.next=7,fetch(\"\".concat(f.a,\"/orders\"),{headers:{Authorization:\"Bearer \".concat(r)}});case 7:return s=n.sent,n.next=10,s.json();case 10:u=n.sent,c(u),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),c([]);case 17:case\"end\":return n.stop()}}),n,null,[[1,14]])})));return function(){return n.apply(this,arguments)}}()()}),[e]),r}(t,n);return Object(d.useEffect)((function(){t||c.push(\"/sign_in\")}),[]),Object(r.jsxs)(\"div\",{children:[Object(r.jsxs)(o.a,{children:[Object(r.jsx)(\"title\",{children:\"Cuatl - Bolsa de compras\"}),Object(r.jsx)(\"meta\",{name:\"description\",content:\"\\xd3rdenes de compra en Cuatl\"})]}),u?u.map((function(e){return Object(r.jsxs)(\"div\",{children:[new Date(e.createdAt).toLocaleDateString(\"es-MX\"),e.product.name,e.total,e.status]},\"order.id\")})):Object(r.jsx)(\"div\",{children:\"Sin \\xf3rdenes\"})]})}}},[[\"Lvf5\",0,2,1,3]]]);","map":{"version":3,"sources":["static/chunks/pages/payment/delivery-c728e9a22a287cce4bac.js"],"names":["_N_E","window","push","Lvf5","module","exports","__webpack_require__","__NEXT_P","xHbI","__webpack_exports__","r","d","BagPage","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","next_head__WEBPACK_IMPORTED_MODULE_3__","next_head__WEBPACK_IMPORTED_MODULE_3___default","next_router__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","_config_globals__WEBPACK_IMPORTED_MODULE_6__","_context_AuthContext__WEBPACK_IMPORTED_MODULE_7__","_useContext","Object","user","getToken","router","orders","_useState","setOrders","_ref","a","mark","_callee","token","response","_orders","wrap","_context","prev","next","sent","fetch","concat","headers","Authorization","json","t0","stop","apply","this","arguments","fetchOrders","useOrders","children","name","content","map","order","Date","createdAt","toLocaleDateString","product","total","status"],"mappings":"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"},"name":"static/chunks/pages/payment/delivery-c728e9a22a287cce4bac.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[15],{\n\n/***/ \"Lvf5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/payment/delivery\",\n      function () {\n        return __webpack_require__(\"xHbI\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"xHbI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BagPage; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _config_globals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"VS8K\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"6Kf1\");\n\n\n\n\n\n\n\n\n\n\nvar useOrders = function useOrders(user, getToken) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])([]),\n      orders = _useState[0],\n      setOrders = _useState[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    var fetchOrders = /*#__PURE__*/function () {\n      var _ref = Object(_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n        var token, response, _orders;\n\n        return _home_ypz_Desktop_A_cuatl_2_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!user) {\n                  _context.next = 17;\n                  break;\n                }\n\n                _context.prev = 1;\n                _context.next = 4;\n                return getToken();\n\n              case 4:\n                token = _context.sent;\n                _context.next = 7;\n                return fetch(\"\".concat(_config_globals__WEBPACK_IMPORTED_MODULE_6__[/* API_DOMAIN */ \"a\"], \"/orders\"), {\n                  headers: {\n                    'Authorization': \"Bearer \".concat(token)\n                  }\n                });\n\n              case 7:\n                response = _context.sent;\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                _orders = _context.sent;\n                setOrders(_orders);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](1);\n                setOrders([]);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 14]]);\n      }));\n\n      return function fetchOrders() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchOrders();\n  }, [user]);\n  return orders;\n};\n\nfunction BagPage() {\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useContext\"])(_context_AuthContext__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"b\"]),\n      user = _useContext.user,\n      getToken = _useContext.getToken;\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_4__[\"useRouter\"])();\n  var orders = useOrders(user, getToken);\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    if (!user) {\n      router.push('/sign_in');\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(next_head__WEBPACK_IMPORTED_MODULE_3___default.a, {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"title\", {\n        children: \"Cuatl - Bolsa de compras\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"meta\", {\n        name: \"description\",\n        content: \"\\xD3rdenes de compra en Cuatl\"\n      })]\n    }), orders ? orders.map(function (order) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        children: [new Date(order.createdAt).toLocaleDateString('es-MX'), order.product.name, order.total, order.status]\n      }, \"order.id\");\n    }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      children: \"Sin \\xF3rdenes\"\n    })]\n  });\n}\n;\n\n/***/ })\n\n},[[\"Lvf5\",0,2,1,3]]]);","inputSourceMap":{"version":3,"sources":["/home/ypz/Desktop/A/cuatl-2/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fpayment%2Fdelivery&absolutePagePath=private-next-pages%2Fpayment%2Fdelivery.tsx!","/home/ypz/Desktop/A/cuatl-2/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/ypz/Desktop/A/cuatl-2/pages/payment/delivery.tsx"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAyC;AAChE;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACF;AACsD;AACe;AACxF;AACW;AACgB;AACV;AACE;;AAEhD;AACA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,EAAE,uDAAS;AACX;AACA,iBAAiB,2IAAiB,eAAe,yGAAmB;AACpE;;AAEA,eAAe,yGAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,kEAAU;AACjD;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;AACA;;AAEe;AACf,oBAAoB,wDAAU,CAAC,oEAAW;AAC1C;AACA;;AAEA,eAAe,6DAAS;AACxB;AACA,EAAE,uDAAS;AACX;AACA;AACA;AACA,GAAG;AACH,sBAAsB,8DAAK;AAC3B,4BAA4B,8DAAK,CAAC,gDAAI;AACtC,8BAA8B,6DAAI;AAClC;AACA,OAAO,gBAAgB,6DAAI;AAC3B;AACA;AACA,OAAO;AACP,KAAK;AACL,0BAA0B,8DAAK;AAC/B;AACA,OAAO;AACP,KAAK,iBAAiB,6DAAI;AAC1B;AACA,KAAK;AACL,GAAG;AACH;AACA,C","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/payment/delivery\",\n      function () {\n        return require(\"private-next-pages/payment/delivery.tsx\");\n      }\n    ]);\n  ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/home/ypz/Desktop/A/cuatl-2/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ypz/Desktop/A/cuatl-2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport { useContext, useEffect, useState } from 'react';\nimport { API_DOMAIN } from '@/config/globals';\nimport AuthContext from '@/context/AuthContext';\n\nvar useOrders = function useOrders(user, getToken) {\n  var _useState = useState([]),\n      orders = _useState[0],\n      setOrders = _useState[1];\n\n  useEffect(function () {\n    var fetchOrders = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var token, response, _orders;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!user) {\n                  _context.next = 17;\n                  break;\n                }\n\n                _context.prev = 1;\n                _context.next = 4;\n                return getToken();\n\n              case 4:\n                token = _context.sent;\n                _context.next = 7;\n                return fetch(\"\".concat(API_DOMAIN, \"/orders\"), {\n                  headers: {\n                    'Authorization': \"Bearer \".concat(token)\n                  }\n                });\n\n              case 7:\n                response = _context.sent;\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                _orders = _context.sent;\n                setOrders(_orders);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](1);\n                setOrders([]);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 14]]);\n      }));\n\n      return function fetchOrders() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchOrders();\n  }, [user]);\n  return orders;\n};\n\nexport default function BagPage() {\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      getToken = _useContext.getToken;\n\n  var router = useRouter();\n  var orders = useOrders(user, getToken);\n  useEffect(function () {\n    if (!user) {\n      router.push('/sign_in');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Cuatl - Bolsa de compras\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"\\xD3rdenes de compra en Cuatl\"\n      })]\n    }), orders ? orders.map(function (order) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        children: [new Date(order.createdAt).toLocaleDateString('es-MX'), order.product.name, order.total, order.status]\n      }, \"order.id\");\n    }) : /*#__PURE__*/_jsx(\"div\", {\n      children: \"Sin \\xF3rdenes\"\n    })]\n  });\n}\n;"]}}