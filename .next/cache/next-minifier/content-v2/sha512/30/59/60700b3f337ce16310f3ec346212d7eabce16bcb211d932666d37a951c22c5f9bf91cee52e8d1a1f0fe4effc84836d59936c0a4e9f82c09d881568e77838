{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{\"/EDR\":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return t(\"23aj\")}])},\"23aj\":function(e,n,t){\"use strict\";t.r(n),t.d(n,\"__N_SSP\",(function(){return _})),t.d(n,\"default\",(function(){return E}));var a=t(\"o0o1\"),r=t.n(a),c=t(\"HaE+\"),s=t(\"ODXe\"),o=t(\"nKUr\"),i=t(\"g4pe\"),u=t.n(i),d=t(\"q1tI\"),j=t(\"PwMW\"),l=t(\"jS00\"),f=t(\"gRJg\"),p=t(\"vfuN\"),b=t(\"9SqW\"),x=t(\"jelM\"),w=t(\"VS8K\"),O=t(\"6Kf1\"),m=t(\"+GZE\"),h=\"\\n    h-screen\\n    max-w-screen\\n  \",v={container:\"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",loadButton:\"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      mb-20\\n      md:my-12\\n      mt-12\\n    \"},_=!0;function E(e){var n=e.initialProducts,t=e.departments,a=Object(d.useContext)(O.b),i=a.login,_=a.useSession,E=Object(m.a)(n),N=Object(d.useState)({index:0,data:n,previousData:n}),g=Object(s.a)(N,2),S=g[0],y=g[1],D=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)(E,{start:S.data.length,limit:w.f});case 2:n=e.sent,y({index:S.index+1,data:S.data.concat(n),previousData:n});case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _(),Object(d.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!location.search){e.next=3;break}return e.next=3,i(location.search);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.jsxs)(\"div\",{className:h,children:[Object(o.jsxs)(u.a,{children:[Object(o.jsx)(\"title\",{children:\"Cuatl - La mejor moda artesanal de M\\xe9xico\"}),Object(o.jsx)(\"meta\",{name:\"description\",content:\"Encuentra los mejores productos artesanales de M\\xe9xico\"})]}),Object(o.jsx)(b.a,{menuEntries:t}),Object(o.jsxs)(\"div\",{className:v.container,children:[Object(o.jsx)(f.a,{products:S.data}),Object(o.jsx)(\"div\",{className:v.loadButton,children:Object(o.jsx)(l.a,{disabled:!S.previousData.length,fetcher:D})})]}),Object(o.jsx)(x.b,{page:x.a.HOME}),Object(o.jsx)(p.a,{})]})}}},[[\"/EDR\",0,2,1,3,4,5,6]]]);","map":{"version":3,"sources":["static/chunks/pages/index-fdf1937abac43171c9f1.js"],"names":["_N_E","window","push","/EDR","module","exports","__webpack_require__","__NEXT_P","23aj","__webpack_exports__","r","d","__N_SSP","HomePage","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__","next_head_js__WEBPACK_IMPORTED_MODULE_4__","next_head_js__WEBPACK_IMPORTED_MODULE_4___default","react_index__WEBPACK_IMPORTED_MODULE_5__","_actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__","_components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__","_components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__","_components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__","_components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__","_components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__","_config_globals__WEBPACK_IMPORTED_MODULE_12__","_context_AuthContext__WEBPACK_IMPORTED_MODULE_13__","_lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__","classes","container","loadButton","_ref","initialProducts","departments","_useContext","Object","login","useSession","apolloClient","_useState","index","data","previousData","_useState2","page","setPage","getNewPage","_ref2","a","mark","_callee","newPage","wrap","_context","prev","next","start","length","limit","sent","concat","stop","apply","this","arguments","_ref3","_callee2","_context2","location","search","loginUser","className","children","name","content","menuEntries","products","disabled","fetcher","HOME"],"mappings":"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"},"name":"static/chunks/pages/index-fdf1937abac43171c9f1.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[13],{\n\n/***/ \"/EDR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(\"23aj\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"23aj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HomePage; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"ODXe\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_head_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_head_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react_index__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_index__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"PwMW\");\n/* harmony import */ var _components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"jS00\");\n/* harmony import */ var _components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"gRJg\");\n/* harmony import */ var _components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"vfuN\");\n/* harmony import */ var _components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"9SqW\");\n/* harmony import */ var _components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"jelM\");\n/* harmony import */ var _config_globals__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"VS8K\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"6Kf1\");\n/* harmony import */ var _lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"+GZE\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar classes = {\n  container: \"\\n    h-screen\\n    max-w-screen\\n  \",\n  gallery: {\n    container: \"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",\n    loadButton: \"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      mb-20\\n      md:my-12\\n      mt-12\\n    \"\n  }\n};\nvar __N_SSP = true;\nfunction HomePage(_ref) {\n  var initialProducts = _ref.initialProducts,\n      departments = _ref.departments;\n\n  var _useContext = Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useContext\"])(_context_AuthContext__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"b\"]),\n      login = _useContext.login,\n      useSession = _useContext.useSession;\n\n  var apolloClient = Object(_lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__[/* useApolloClient */ \"a\"])(initialProducts);\n\n  var _useState = Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({\n    index: 0,\n    data: initialProducts,\n    previousData: initialProducts\n  }),\n      _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var getNewPage = /*#__PURE__*/function () {\n    var _ref2 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n      var newPage;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Object(_actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__[/* getProductsPage */ \"a\"])(apolloClient, {\n                start: page.data.length,\n                limit: _config_globals__WEBPACK_IMPORTED_MODULE_12__[/* PAGE_LIMIT */ \"f\"]\n              });\n\n            case 2:\n              newPage = _context.sent;\n              setPage({\n                index: page.index + 1,\n                data: page.data.concat(newPage),\n                previousData: newPage\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getNewPage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useSession();\n  Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    var loginUser = /*#__PURE__*/function () {\n      var _ref3 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!location.search) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return login(location.search);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function loginUser() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    loginUser();\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsxs\"])(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsxs\"])(next_head_js__WEBPACK_IMPORTED_MODULE_4___default.a, {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"title\", {\n        children: \"Cuatl - La mejor moda artesanal de M\\xE9xico\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"meta\", {\n        name: \"description\",\n        content: \"Encuentra los mejores productos artesanales de M\\xE9xico\"\n      })]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      menuEntries: departments\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsxs\"])(\"div\", {\n      className: classes.gallery.container,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n        products: page.data\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"div\", {\n        className: classes.gallery.loadButton,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          disabled: !page.previousData.length,\n          fetcher: getNewPage\n        })\n      })]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"b\"], {\n      page: _components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__[/* TAB_PAGES */ \"a\"].HOME\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {})]\n  });\n}\n;\n\n/***/ })\n\n},[[\"/EDR\",0,2,1,3,4,5,6]]]);"}