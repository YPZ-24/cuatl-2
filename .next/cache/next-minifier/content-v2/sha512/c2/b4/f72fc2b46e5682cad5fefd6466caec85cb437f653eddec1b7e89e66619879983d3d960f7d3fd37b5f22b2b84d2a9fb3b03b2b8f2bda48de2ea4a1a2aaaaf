{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{GwwV:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"__N_SSP\",(function(){return _})),t.d(n,\"default\",(function(){return E}));var a=t(\"o0o1\"),r=t.n(a),s=t(\"HaE+\"),c=t(\"ODXe\"),o=t(\"nKUr\"),i=t(\"g4pe\"),u=t.n(i),d=t(\"q1tI\"),j=t(\"PwMW\"),l=t(\"jS00\"),f=t(\"gRJg\"),p=t(\"vfuN\"),x=t(\"9SqW\"),b=t(\"jelM\"),w=t(\"VS8K\"),O=t(\"6Kf1\"),m=t(\"+GZE\"),h=\"\\n    h-screen\\n    max-w-screen\\n  \",v={container:\"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",loadButton:\"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      my-12\\n    \"},_=!0;function E(e){var n=e.initialProducts,t=e.departments,a=e.query,i=Object(d.useContext)(O.b).useSession,_=Object(m.a)(n),E=Object(d.useState)({index:0,data:n,previousData:n}),N=Object(c.a)(E,2),S=N[0],y=N[1],g=function(){var e=Object(s.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)(_,{start:S.data.length,limit:w.f,query:a});case 2:n=e.sent,y({index:S.index+1,data:S.data.concat(n),previousData:n});case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i(),Object(o.jsxs)(\"div\",{className:h,children:[Object(o.jsxs)(u.a,{children:[Object(o.jsx)(\"title\",{children:\"Cuatl - La mejor moda artesanal de M\\xe9xico\"}),Object(o.jsx)(\"meta\",{name:\"description\",content:\"Encuentra los mejores productos artesanales de M\\xe9xico\"})]}),Object(o.jsx)(x.a,{menuEntries:t}),Object(o.jsxs)(\"div\",{className:v.container,children:[Object(o.jsx)(f.a,{products:S.data}),Object(o.jsx)(\"div\",{className:v.loadButton,children:Object(o.jsx)(l.a,{disabled:!S.previousData.length,fetcher:g})})]}),Object(o.jsx)(b.b,{page:b.a.HOME}),Object(o.jsx)(p.a,{})]})}},KSO3:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/store/[filter]\",function(){return t(\"GwwV\")}])}},[[\"KSO3\",0,2,1,3,4,5,6]]]);","map":{"version":3,"sources":["static/chunks/pages/store/[filter]-9bf8c6639dffe48c5707.js"],"names":["_N_E","window","push","GwwV","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","FilteredProductsPage","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__","next_head_js__WEBPACK_IMPORTED_MODULE_4__","next_head_js__WEBPACK_IMPORTED_MODULE_4___default","react_index__WEBPACK_IMPORTED_MODULE_5__","_actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__","_components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__","_components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__","_components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__","_components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__","_components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__","_config_globals__WEBPACK_IMPORTED_MODULE_12__","_context_AuthContext__WEBPACK_IMPORTED_MODULE_13__","_lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__","classes","container","loadButton","_ref","initialProducts","departments","query","useSession","Object","apolloClient","_useState","index","data","previousData","_useState2","page","setPage","getNewPage","_ref2","a","mark","_callee","newPage","wrap","_context","prev","next","start","length","limit","sent","concat","stop","apply","this","arguments","className","children","name","content","menuEntries","products","disabled","fetcher","HOME","KSO3","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/store/[filter]-9bf8c6639dffe48c5707.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[18],{\n\n/***/ \"GwwV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FilteredProductsPage; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"ODXe\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_head_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_head_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react_index__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_index__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"PwMW\");\n/* harmony import */ var _components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"jS00\");\n/* harmony import */ var _components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"gRJg\");\n/* harmony import */ var _components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"vfuN\");\n/* harmony import */ var _components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"9SqW\");\n/* harmony import */ var _components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"jelM\");\n/* harmony import */ var _config_globals__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"VS8K\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"6Kf1\");\n/* harmony import */ var _lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"+GZE\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar classes = {\n  container: \"\\n    h-screen\\n    max-w-screen\\n  \",\n  gallery: {\n    container: \"\\n      h-3/4\\n      md:h-auto\\n      md:overflow-visible\\n      overflow-y-auto\\n      px-7\\n      py-12\\n      top-0\\n      w-full\\n    \",\n    loadButton: \"\\n      flex\\n      flex-nowrap\\n      flex-row\\n      justify-center\\n      my-12\\n    \"\n  }\n};\nvar __N_SSP = true;\nfunction FilteredProductsPage(_ref) {\n  var initialProducts = _ref.initialProducts,\n      departments = _ref.departments,\n      query = _ref.query;\n\n  var _useContext = Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useContext\"])(_context_AuthContext__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"b\"]),\n      useSession = _useContext.useSession;\n\n  var apolloClient = Object(_lib_apollo_client__WEBPACK_IMPORTED_MODULE_14__[/* useApolloClient */ \"a\"])(initialProducts);\n\n  var _useState = Object(react_index__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({\n    index: 0,\n    data: initialProducts,\n    previousData: initialProducts\n  }),\n      _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var getNewPage = /*#__PURE__*/function () {\n    var _ref2 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n      var newPage;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Object(_actions_fetch_products__WEBPACK_IMPORTED_MODULE_6__[/* getProductsPage */ \"a\"])(apolloClient, {\n                start: page.data.length,\n                limit: _config_globals__WEBPACK_IMPORTED_MODULE_12__[/* PAGE_LIMIT */ \"f\"],\n                query: query\n              });\n\n            case 2:\n              newPage = _context.sent;\n              setPage({\n                index: page.index + 1,\n                data: page.data.concat(newPage),\n                previousData: newPage\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getNewPage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useSession();\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsxs\"])(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsxs\"])(next_head_js__WEBPACK_IMPORTED_MODULE_4___default.a, {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"title\", {\n        children: \"Cuatl - La mejor moda artesanal de M\\xE9xico\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"meta\", {\n        name: \"description\",\n        content: \"Encuentra los mejores productos artesanales de M\\xE9xico\"\n      })]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_navbars_Omnibar__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      menuEntries: departments\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsxs\"])(\"div\", {\n      className: classes.gallery.container,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_galleries_ProductsGallery__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n        products: page.data\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"div\", {\n        className: classes.gallery.loadButton,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_buttons_LoadMoreButton__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          disabled: !page.previousData.length,\n          fetcher: getNewPage\n        })\n      })]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"b\"], {\n      page: _components_navbars_Tabbar__WEBPACK_IMPORTED_MODULE_11__[/* TAB_PAGES */ \"a\"].HOME\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_footers_Footer__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {})]\n  });\n}\n;\n;\n\n/***/ }),\n\n/***/ \"KSO3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/store/[filter]\",\n      function () {\n        return __webpack_require__(\"GwwV\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"KSO3\",0,2,1,3,4,5,6]]]);"}