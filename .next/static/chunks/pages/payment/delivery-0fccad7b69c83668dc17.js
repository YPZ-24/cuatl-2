_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{"20a2":function(e,n,t){e.exports=t("nOHt")},"6Kf1":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t("nKUr"),u=t("vJKn"),c=t.n(u),s=t("rg98"),o=t("20a2"),a=t("q1tI"),i=t("VS8K"),f=function(){var e=Object(s.a)(c.a.mark((function e(n){var t,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.includes("id_token")?i.b:"",e.next=3,fetch(t+n);case 3:return r=e.sent,e.next=6,r.json();case 6:return u=e.sent,e.abrupt("return",{token:u.jwt,user:{id:u.user.id,username:u.user.username,email:u.user.email,avatar:u.user.avatar?u.user.avatar.formats.thumbnail:null}});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=Object(a.createContext)(null);n.b=d;function l(e){var n=e.children,t=Object(a.useState)(null),u=t[0],i=t[1],l=Object(o.useRouter)(),p=function(){var e=Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("id_token"in l.query)&&!("access_token"in l.query)){e.next=7;break}return e.next=3,f(location.search);case 3:n=e.sent,l.replace("/"),sessionStorage.setItem("session",JSON.stringify(n)),i(n.user);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){try{return JSON.parse(sessionStorage.getItem("session"))}catch(e){return console.error(e.message),null}};return Object(r.jsx)(d.Provider,{value:{user:u,login:p,logout:function(){sessionStorage.removeItem("session"),i(null),l.push("/")},getToken:function(){return v().token},isUserLoggedIn:function(){return!!v()},useSession:function(){Object(a.useEffect)((function(){var e=v();i(null===e||void 0===e?void 0:e.user)}),[])}},children:n})}},Lvf5:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment/delivery",function(){return t("xHbI")}])},VS8K:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"d",(function(){return u})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return c})),t.d(n,"e",(function(){return o}));var r="https://cuatl.shop/api",u=12,c="https://cuatl.shop/api/connect/google",s="".concat(r,"/auth/google/callback"),o="pk_test_51Hw15gJ4rvPOyPXnQ6Rjf7X4RxmsSBqvTVy3h3Bfwdo2WddlWAgC64bzfHeQbn4V5jJpPrJ7eHeWrGQMWOlRzW8700mrQLCJpL"},rg98:function(e,n,t){"use strict";function r(e,n,t,r,u,c,s){try{var o=e[c](s),a=o.value}catch(i){return void t(i)}o.done?n(a):Promise.resolve(a).then(r,u)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(u,c){var s=e.apply(n,t);function o(e){r(s,u,c,o,a,"next",e)}function a(e){r(s,u,c,o,a,"throw",e)}o(void 0)}))}}t.d(n,"a",(function(){return u}))},xHbI:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return d}));var r=t("nKUr"),u=t("vJKn"),c=t.n(u),s=t("rg98"),o=t("20a2"),a=t("q1tI"),i=t("VS8K"),f=t("6Kf1");function d(){var e=Object(a.useContext)(f.b),n=e.user,t=e.getToken,u=Object(o.useRouter)(),d=function(e,n){var t=Object(a.useState)([]),r=t[0],u=t[1];return Object(a.useEffect)((function(){!function(){var t=Object(s.a)(c.a.mark((function t(){var r,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=17;break}return t.prev=1,t.next=4,n();case 4:return r=t.sent,t.next=7,fetch("".concat(i.a,"/orders"),{headers:{Authorization:"Bearer ".concat(r)}});case 7:return s=t.sent,t.next=10,s.json();case 10:o=t.sent,u(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),u([]);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),r}(n,t);return Object(a.useEffect)((function(){n||u.push("/sign_in")}),[]),Object(r.jsx)(r.Fragment,{children:d?d.map((function(e){return Object(r.jsxs)("div",{children:[new Date(e.createdAt).toLocaleDateString("es-MX"),e.product.name,e.total,e.status]},"order.id")})):Object(r.jsx)("div",{children:"Sin \xf3rdenes"})})}}},[["Lvf5",0,1,2,3]]]);