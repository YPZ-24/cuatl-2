_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{"20a2":function(e,n,t){e.exports=t("nOHt")},"6Kf1":function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t("nKUr"),u=t("vJKn"),c=t.n(u),s=t("rg98"),a=t("20a2"),o=t("q1tI"),i=t("VS8K"),f=function(){var e=Object(s.a)(c.a.mark((function e(n){var t,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.includes("id_token")?i.b:"",e.next=3,fetch(t+n);case 3:return r=e.sent,e.next=6,r.json();case 6:return u=e.sent,e.abrupt("return",{token:u.jwt,user:{id:u.user.id,username:u.user.username,email:u.user.email,avatar:u.user.avatar?u.user.avatar.formats.thumbnail:null}});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=Object(o.createContext)(null);n.b=l;function d(e){var n=e.children,t=Object(o.useState)(null),u=t[0],i=t[1],d=Object(a.useRouter)(),v=function(){var e=Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("id_token"in d.query)&&!("access_token"in d.query)){e.next=7;break}return e.next=3,f(location.search);case 3:n=e.sent,d.replace("/"),sessionStorage.setItem("session",JSON.stringify(n)),i(n.user);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){try{return JSON.parse(sessionStorage.getItem("session"))}catch(e){return console.error(e.message),null}};return Object(r.jsx)(l.Provider,{value:{user:u,login:v,logout:function(){sessionStorage.removeItem("session"),i(null),d.push("/")},getToken:function(){return p().token},isUserLoggedIn:function(){return!!p()},useSession:function(){Object(o.useEffect)((function(){var e=p();i(null===e||void 0===e?void 0:e.user)}),[])}},children:n})}},Lvf5:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment/delivery",function(){return t("xHbI")}])},VS8K:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"d",(function(){return u})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return c})),t.d(n,"e",(function(){return a}));var r="https://cuatl.shop/api",u=12,c="https://cuatl.shop/api/connect/google",s="".concat(r,"/auth/google/callback"),a="pk_live_51Hw15gJ4rvPOyPXnQvJZJh4bBA3ef2R4sx6iPfGSVNNQtvUaobMDUhrh2eQUjHPAyAcpEXsdY1QWu6wPFTL7Zkgw00X6BX6HZI"},rg98:function(e,n,t){"use strict";function r(e,n,t,r,u,c,s){try{var a=e[c](s),o=a.value}catch(i){return void t(i)}a.done?n(o):Promise.resolve(o).then(r,u)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(u,c){var s=e.apply(n,t);function a(e){r(s,u,c,a,o,"next",e)}function o(e){r(s,u,c,a,o,"throw",e)}a(void 0)}))}}t.d(n,"a",(function(){return u}))},xHbI:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return l}));var r=t("nKUr"),u=t("vJKn"),c=t.n(u),s=t("rg98"),a=t("20a2"),o=t("q1tI"),i=t("VS8K"),f=t("6Kf1");function l(){var e=Object(o.useContext)(f.b),n=e.user,t=e.getToken,u=Object(a.useRouter)(),l=function(e,n){var t=Object(o.useState)([]),r=t[0],u=t[1];return Object(o.useEffect)((function(){!function(){var t=Object(s.a)(c.a.mark((function t(){var r,s,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=17;break}return t.prev=1,t.next=4,n();case 4:return r=t.sent,t.next=7,fetch("".concat(i.a,"/orders"),{headers:{Authorization:"Bearer ".concat(r)}});case 7:return s=t.sent,t.next=10,s.json();case 10:a=t.sent,u(a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),u([]);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),r}(n,t);return Object(o.useEffect)((function(){n||u.push("/sign_in")}),[]),Object(r.jsx)(r.Fragment,{children:l?l.map((function(e){return Object(r.jsxs)("div",{children:[new Date(e.createdAt).toLocaleDateString("es-MX"),e.product.name,e.total,e.status]},"order.id")})):Object(r.jsx)("div",{children:"Sin \xf3rdenes"})})}}},[["Lvf5",0,1,2,3]]]);